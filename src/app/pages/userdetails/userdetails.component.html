<div class="row formContent">
    <div class="col s12 m9 l9">
        <h3>{{ name }}</h3>
        
        <ul class="collection with-header">
            <li class="collection-header">
                <h4>User's Groups</h4>
                <a data-target="modal1" class="modal-trigger waves-effect waves-light btn">
                    <i class="material-icons left">add</i>Add to Group
                </a>
                <a (click)="deleteUser()" class="waves-effect waves-light btn red">
                    <i class="material-icons left">delete</i>{{ delUser }}
                </a>
            </li>
            <li *ngFor="let userGroup of userGroups" class="collection-item">
                <div>{{ userGroup.title }}
                    <a href="javascript:void(0);" *ngIf="userGroups.length > 1" (click)="removeFromGroup(userGroup.id)" class="secondary-content">
                        <i class="material-icons">delete</i>
                    </a>
                </div>
            </li>
        </ul>        
    </div>
</div>

<div class="row">
    <!-- Modal Structure -->
    <div id="modal1" class="modal">
        <p class="modal-content" *ngIf="addToGroupsOpts.length === 0">No availble groups for this user</p>
        
        <form *ngIf="groupToAddReady && addToGroupsOpts.length" (submit)="addToGroups()" [formGroup]="addToGroupsForm" novalidate>
            <div class="modal-content">
                <h4>Select Groups</h4>
                <p *ngFor="let group of addToGroupsOpts">
                    <input
                        formControlName="{{ group.title }}"
                        type="checkbox"
                        class="filled-in"
                        id="{{ group.title }}" />
                    <label for="{{ group.title }}">{{ group.title }}</label>
                </p>
            </div>
            <div class="modal-footer">
                <button type="submit" class="modal-action modal-close waves-effect waves-green btn-flat">Agree</button>
            </div>
        </form>
    </div>
</div>